!function e(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var n=r();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=271)}({271:function(e,t,r){"use strict";r.r(t),r.d(t,"CsContentsGroupGenerator",(function(){return i}));var n=r(82),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=function(){function e(){}return e.generate=function(t){var r=t.contents,n=t.groupBy,i=t.groupSortBy,u=void 0===i?[]:i,f=t.groupFilterBy,a=void 0===f?[]:f,c=t.sortBy,s=void 0===c?[]:c,l=t.filterBy,p=void 0===l?[]:l,d=t.combination,g=t.includeSearchable,v=t.prioritiseTargetedContents,y;if(r=e.filterItems(r,Array.isArray(p)?p:[p]),r=e.sortItems(r,Array.isArray(s)?s:[s]),d){y={};for(var b=0,h=Object.keys(d);b<h.length;b++){var O=h[b];if(d[O])for(var m=0,A=d[O];m<A.length;m++){var C=A[m];if(!y[O]){var x=r.length,j=e.filterContentsByAttribute(r,O,C),w=j.length;w&&w<=x&&(y[O]=C,r=j)}}}}var M=[];if(v){var B=v.sourceFramework,S=v.categories;M=r.filter((function(t){return Object.keys(B).filter((function(e){return!S||S.indexOf(e)>-1})).some((function(r){if(!B[r].length)return!1;var n=e.isMultiValueAttribute(B,r)?B[r]:[B[r]],o;return!(e.isMultiValueAttribute(t,r)?t[r]:[t[r]]).some((function(e){return n.indexOf(e)>-1}))}))})),M&&M.length&&(r=r.sort((function(e,t){return e===t?0:M.indexOf(e)>1&&-1===M.indexOf(t)?-1:1})))}var I=Array.from(r.reduce((function(t,r){var o=n;if(g&&r["se_"+n+"s"]&&(o="se_"+n+"s"),e.isMultiValueAttribute(r,o))r[o].forEach((function(e){var n=t.get(e)||[];n.push(r),t.set(e,n)}));else{var i=t.get(r[o]||"Other")||[];i.push(r),t.set(r[o]||"Other",i)}return t}),new Map).entries()).map((function(e){var t=e[0],r=e[1],n=r.filter((function(e){return M.indexOf(e)>-1}));return o({name:t,count:r.length,contents:r},n&&n.length?{targetedContents:n}:{})}));return I=e.filterItems(I,Array.isArray(a)?a:[a]),I=e.sortItems(I,Array.isArray(u)?u:[u]),v&&(I=I.sort((function(e,t){return!e.targetedContents||!e.targetedContents.length||t.targetedContents&&t.targetedContents.length?e.targetedContents&&e.targetedContents.length||!t.targetedContents||!t.targetedContents.length?0:1:-1}))),{name:n,sections:I,combination:y}},e.filterContentsByAttribute=function(t,r,n){return t.filter((function(t){return e.isMultiValueAttribute(t,r)?t[r].map((function(e){return(e||"").toLowerCase()})).includes((n||"").toLowerCase()):(n||"").toLowerCase()===(t[r]||"").toLowerCase()}))},e.sortItems=function(e,t){return n.Aggregator.sorted(e,t.map((function(e){var t;return(t={})[e.sortAttribute]=e.sortOrder,t})))},e.filterItems=function(e,t){return n.Aggregator.filtered(e,t.map((function(e){var t;return(t={})[e.filterAttribute]={operation:e.filterCondition.operation,value:e.filterCondition.value},t})))},e.isMultiValueAttribute=function(e,t){return Array.isArray(e[t])},e}()},82:function(e,t,r){"use strict";r.r(t),r.d(t,"Aggregator",(function(){return i}));var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],u=0,f=i.length;u<f;u++,o++)n[o]=i[u];return n},i=function(){function e(){}return e.groupByIntoMap=function(t,r){return t.reduce((function(t,i){var u,f=String(e.deepGet(i,String(r).split(".")));return n(n({},t),((u={})[f]=o(t[f]||[],[i]),u))}),{})},e.groupByIntoPairList=function(t,r){var n=e.groupByIntoMap(t,r);return Object.keys(n).map((function(e){return[e,n[e]]}))},e.sorted=function(t,r,n){return t.sort((function(t,o){for(var i=0,u=0,f=r;u<f.length;u++){var a=f[u];for(var c in a)if(c in a){var s=e.deepGet(t,c.split(".")).toLowerCase(),l=e.deepGet(o,c.split(".")).toLowerCase();if(i=n?n(s,l):String(s).localeCompare(l),"asc"===a[c]||"desc"===a[c])i="asc"===a[c]?i:-i;else{var p=a[c];if(p.preference){for(var d=0;d<p.preference.length;d++)"string"==typeof p.preference[d]&&(p.preference[d]=p.preference[d].toLowerCase());p.preference.indexOf(s)>-1&&p.preference.indexOf(l)>-1?i=p.preference.indexOf(s)-p.preference.indexOf(l):p.preference.indexOf(s)>-1&&-1===p.preference.indexOf(l)?i=-1:p.preference.indexOf(l)>-1&&-1===p.preference.indexOf(s)&&(i=1)}i="asc"===p.order?i:-i}}if(0!==i)break}return i}))},e.filtered=function(t,r){return t.filter((function(t){for(var n=!0,o=0,i=r;o<i.length;o++){var u=i[o];if(!n)break;for(var f in u)if(f in u){var a=e.deepGet(t,f.split(".")),c=u[f],s=c.operation,l=c.value;switch(s){case"==":n=a===l;break;case"<=":case">=":n=a<=l;break;case"!=":n=a!==l}}}return n}))},e.deepGet=function(e,t){return t.reduce((function(e,t){return e&&e[t]?e[t]:null}),e)},e}()}})}));