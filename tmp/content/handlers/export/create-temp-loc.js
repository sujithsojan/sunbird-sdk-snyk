import { Response } from '../../../api';
import { UniqueId } from '../../../db/util/unique-id';
var CreateTempLoc = /** @class */ (function () {
    function CreateTempLoc(fileService) {
        this.fileService = fileService;
    }
    CreateTempLoc.prototype.execute = function (exportContext) {
        var response = new Response();
        return this.fileService.createDir(exportContext.tmpLocationPath.concat(UniqueId.generateUniqueId()), false)
            .then(function (directoryEntry) {
            exportContext.tmpLocationPath = directoryEntry.nativeURL;
            response.body = exportContext;
            return Promise.resolve(response);
        }).catch(function () {
            return Promise.reject(response);
        });
    };
    return CreateTempLoc;
}());
export { CreateTempLoc };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLXRlbXAtbG9jLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbnRlbnQvaGFuZGxlcnMvZXhwb3J0L2NyZWF0ZS10ZW1wLWxvYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sY0FBYyxDQUFDO0FBQ3RDLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSw0QkFBNEIsQ0FBQztBQUdwRDtJQUVJLHVCQUFvQixXQUF3QjtRQUF4QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtJQUM1QyxDQUFDO0lBRUQsK0JBQU8sR0FBUCxVQUFRLGFBQW1DO1FBQ3ZDLElBQU0sUUFBUSxHQUFhLElBQUksUUFBUSxFQUFFLENBQUM7UUFDMUMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsZUFBZ0IsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUMsRUFBRSxLQUFLLENBQUM7YUFDdkcsSUFBSSxDQUFDLFVBQUMsY0FBOEI7WUFDakMsYUFBYSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO1lBQ3pELFFBQVEsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDO1lBQzlCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDTCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQUFDLEFBaEJELElBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGaWxlU2VydmljZX0gZnJvbSAnLi4vLi4vLi4vdXRpbC9maWxlL2RlZi9maWxlLXNlcnZpY2UnO1xuaW1wb3J0IHtFeHBvcnRDb250ZW50Q29udGV4dH0gZnJvbSAnLi4vLi4nO1xuaW1wb3J0IHtSZXNwb25zZX0gZnJvbSAnLi4vLi4vLi4vYXBpJztcbmltcG9ydCB7VW5pcXVlSWR9IGZyb20gJy4uLy4uLy4uL2RiL3V0aWwvdW5pcXVlLWlkJztcbmltcG9ydCB7RGlyZWN0b3J5RW50cnl9IGZyb20gJy4uLy4uLy4uL3V0aWwvZmlsZSc7XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVUZW1wTG9jIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZmlsZVNlcnZpY2U6IEZpbGVTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgZXhlY3V0ZShleHBvcnRDb250ZXh0OiBFeHBvcnRDb250ZW50Q29udGV4dCk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVTZXJ2aWNlLmNyZWF0ZURpcihleHBvcnRDb250ZXh0LnRtcExvY2F0aW9uUGF0aCEuY29uY2F0KFVuaXF1ZUlkLmdlbmVyYXRlVW5pcXVlSWQoKSksIGZhbHNlKVxuICAgICAgICAgICAgLnRoZW4oKGRpcmVjdG9yeUVudHJ5OiBEaXJlY3RvcnlFbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cG9ydENvbnRleHQudG1wTG9jYXRpb25QYXRoID0gZGlyZWN0b3J5RW50cnkubmF0aXZlVVJMO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkgPSBleHBvcnRDb250ZXh0O1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4iXX0=